import{r as l,u as S,j as e,M as E,a as k,b as R,c as Q,f as z,d as G,A as U,L as F,m as c,P as O,e as B}from"./index-jMBk4G2L.js";const P="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAYAAACJ8xqgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEJwAABCcASbNOjQAAAGASURBVEhLrZa7cYQwFEX5RiRbwpawLoEEhtAVeN2BOzCuxHYFJMzwSWjBJVCCIzLA74KQWRAgBGcG0GOGw9WHERrIsizM8/y9Kw6iJ0lyN03zk9Wh53kfrK2EQbywNgjxAtZWwqiq6pmuP32paUh7RKrjFEXRxXGcgpo31KCu69cgCL5YKU0nBGdJuRBQV6/UZUiv/Z390gchEEnbtn3yfZ+P8xoGu3IoTUmpXGqW/Z1OWNBa5UOxxizhwDRp0zS/uq67W0kXhUBFuioEe6WbQiCSYqIw3qjHzCZFxHSi6HO90FHgRajHSCUcmCallCWldcdJdwnBlnS3EKxJlYQgjuObZVkFxhP1IJWaFBG2bWu0fFj1j5IQXSZZRMdDOqUunzoppy4bGRmQEk5lJFr8njeFe2RgVbhXBhaFKjIgFKrKwEw4lQGaUbVNCnuzQHaXlQEuHG30U9k3K6Xouiz6a1CRAf1MGTDOlAGDlgR/mDaityMyDi2VME3TE36JNe0PEvQ33QXCa5oAAAAASUVORK5CYII=",M=({isOpen:o,onClose:i,product:a,onAddToCart:m})=>{var g;const[n,r]=l.useState(1),[h,d]=l.useState((a==null?void 0:a.size)||""),f=S(),x=t=>{d(t.target.value)},j=t=>{r(Math.max(t.target.value,1))},u=t=>{t.target===t.currentTarget&&i()};return o?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:u,children:e.jsxs("div",{className:"bg-primary w-11/12 md:w-3/5 h-auto md:h-3/5 p-6 rounded-md relative flex flex-col md:flex-row",onClick:t=>t.stopPropagation(),children:[e.jsx("button",{onClick:i,className:"absolute top-4 right-4 text-secondary hover:text-gray-700",children:e.jsx(E,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-6 h-full w-full",children:[e.jsx("div",{className:"w-full md:w-1/2  md:h-full",children:e.jsx("img",{src:a==null?void 0:a.images[0],alt:a==null?void 0:a.name,className:"w-full h-full object-cover rounded-md"})}),e.jsxs("div",{className:"w-full md:w-1/2 space-y-6 text-secondary flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:a==null?void 0:a.name}),e.jsxs("p",{className:"text-xl font-medium text-gray-300 mt-2",children:[a==null?void 0:a.price," EGP"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Sizes:"}),e.jsxs("select",{value:h,onChange:x,className:"border rounded-md text-primary py-2 px-3 w-full",children:[e.jsx("option",{value:"",children:"Select Size"})," ",(g=a==null?void 0:a.size)==null?void 0:g.map(t=>e.jsx("option",{value:t,children:t},t))]})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-lg text-gray-400",children:"Quantity:"}),e.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[e.jsx("button",{className:"border border-gray-500 text-gray-300 rounded-md p-2 text-lg hover:bg-gray-700",onClick:()=>r(Math.max(n-1,1)),children:"-"}),e.jsx("input",{type:"number",value:n,min:1,onChange:j,className:"border border-gray-500 bg-black text-white text-lg rounded-md py-2 px-4 w-16 text-center"}),e.jsx("button",{className:"border border-gray-500 text-gray-300 rounded-md p-2 text-lg hover:bg-gray-700",onClick:()=>r(n+1),children:"+"})]})]})}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("button",{onClick:()=>{m({...a,size:h,quantity:n}),i()},className:"bg-secondary text-black text-lg font-semibold py-3 px-4 rounded-md w-full hover:bg-gray-400",children:"Add to Cart"}),e.jsx("button",{onClick:()=>{i(),f(`/artivastore/collection/${a==null?void 0:a.id}`)},className:"text-secondary text-lg font-semibold w-full text-center border border-gray-500 py-3 rounded-md hover:bg-gray-700",children:"View Full Details"})]})]})]})]})}):null},I=()=>{const o=k(),{products:i,loading:a,error:m}=R(s=>s.products),{t:n}=Q(),[r,h]=l.useState([]),[d,f]=l.useState([]),[x,j]=l.useState(!1),[u,g]=l.useState(null),[t,p]=l.useState(!1),C=async()=>{try{const s=await G.get(U.Category,{headers:{Accept:"application/json"}});h(s.data.data)}catch(s){console.error("Error fetching categories:",s)}},b=d.length>0?i.filter(s=>d.includes(s.Categore_id)):i,N=s=>{f(y=>y.includes(s)?y.filter(v=>v!==s):[...y,s])};if(l.useEffect(()=>{o(z())},[o]),l.useEffect(()=>{C()},[]),a)return e.jsx("p",{children:e.jsx(F,{})});if(m)return e.jsxs("p",{children:["Error: ",m.message]});const A={hidden:{opacity:0,y:50},visible:{opacity:1,y:0}},w={hidden:{opacity:1},visible:{opacity:1,transition:{staggerChildren:.1}}};return e.jsxs(c.div,{className:"flex flex-col gap-6 pt-10",initial:"hidden",animate:"visible",exit:"hidden",variants:w,children:[e.jsx(c.h2,{className:"text-2xl font-bold text-secondary",variants:A,transition:{duration:.5},children:n("products")}),e.jsxs(c.div,{className:"min-w-60 rounded-md text-secondary",variants:A,transition:{duration:.5},children:[e.jsxs("p",{onClick:()=>j(!x),className:"text-lg font-semibold cursor-pointer flex items-center gap-2",children:["FILTERS",e.jsx("img",{className:`h-4 transform transition-transform ${x?"rotate-90":""}`,src:P,alt:"dropdown"})]}),e.jsxs("div",{className:`mt-4 space-y-3 ${x?"":"hidden"}`,children:[e.jsx("p",{className:"font-semibold text-sm",children:"CATEGORY"}),r.length>0?r.map(s=>e.jsxs("p",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>N(s.id),children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4",checked:d.includes(s.id),onChange:()=>N(s.id)}),e.jsx("label",{className:"text-sm",children:s.name})]},s.id)):e.jsx("p",{children:"No categories available"})]})]}),e.jsx(c.div,{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",variants:w,children:b&&b.length>0?b.map(s=>e.jsxs(c.div,{className:"flex flex-col items-center",variants:A,transition:{duration:.5},children:[e.jsx(O,{id:s.id,image:s.images,name:s.name,price:s.price}),e.jsx("div",{className:"w-full",children:e.jsx(c.button,{className:"w-full mb-2 bg-transparent border border-white-500 text-secondary font-semibold py-2 px-6 rounded transition-colors hover:bg-secondary hover:text-primary",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{g(s),p(!0)},children:"Choose Options"})})]},s.id)):e.jsx("p",{className:"text-center text-secondary",children:"No products available"})}),e.jsx(M,{isOpen:t,onClose:()=>p(!1),product:u,onAddToCart:s=>o(B(s))})]})},J=()=>e.jsx(e.Fragment,{children:e.jsx(I,{})});export{J as default};
